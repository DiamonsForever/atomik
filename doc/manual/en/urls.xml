<?xml version="1.0" encoding="UTF-8"?>
<chapter id="urls" xmlns="http://docbook.org/ns/docbook">
	<title>URLs</title>
	<sect1 id="url-calling-action">
		<title>Calling an action</title>
		<para>
			Atomik provides a simple url mechanism. Whatever the page is, the url
			must always point to Atomik script, i.e. <filename>index.php</filename>
		</para>
		<para>
			The url should contain a parameter which specify which action to trigger.
			This parameters can be modified in the configuration but its default name
			is <quote>action</quote>.
		</para>
		<para>
			The value of the parameter must only contain the action name
			without any extension. So for example if you have an <filename>home.php</filename>
			file in the <filename>actions</filename> directory or/and an 
			<filename>home.php</filename> file in the <filename>views</filename>
			directory, you must use <quote>home</quote> as parameter to call this action.
		</para>
		<para>
			For an action to be callable, an action file or a view file must at least exists.
		</para>
		<para>
			If the action parameter is not found in the query string, Atomik will use the default
			action defines in its configuration (the <quote>atomik/default_action</quote> key).
			The default is <quote>index</quote>.
		</para>
		<para>
			For cleaner and prettier url you can use url rewriting. Simply copy the code below into
			a <filename>.htaccess</filename> file in the same directory as Atomik's core file.
			<programlisting>
	RewriteEngine on
	RewriteRule ^app/plugins/(.+)/assets - [L]
	RewriteRule ^app/ - [L,F]
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteRule ^(.*)$ index.php?action=$1 [L,QSA]
			</programlisting>
			This code will also prevent access to the <filename>app</filename> folder from the web but
			allow access to the <filename>assets</filename> directories of plugins.
		</para>
	</sect1>
	<sect1 id="url-router">
		<title>Routing urls</title>
	</sect1>
</chapter>
