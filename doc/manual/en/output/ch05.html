<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapter 5. URLs</title>
    <link rel="stylesheet" href="styles.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="start" href="index.html" title="Atomik Framework Manual" />
    <link rel="up" href="index.html" title="Atomik Framework Manual" />
    <link rel="prev" href="ch04.html" title="Chapter 4. Accessors and configuration" />
    <link rel="next" href="ch06.html" title="Chapter 6. Actions and views" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Chapter 5. URLs</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="ch04.html">Prev</a> </td>
          <th width="60%" align="center"> </th>
          <td width="20%" align="right"> <a accesskey="n" href="ch06.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="urls"></a>Chapter 5. URLs</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="ch05.html#url-calling-action">Calling an action</a></span></dt><dt><span class="sect1"><a href="ch05.html#url-router">Routing urls</a></span></dt></dl></div>
	
	<div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="url-calling-action"></a>Calling an action</h2></div></div></div>
		
		<p>
			Atomik provides a simple url mechanism. Whatever the page is, the url
			must always point to Atomik script, i.e. <code class="filename">index.php</code>
		</p>
		<p>
			The url should contain a parameter which specify which action to trigger.
			This parameters can be modified in the configuration but its default name
			is “<span class="quote">action</span>”.
		</p>
		<p>
			The value of the parameter must only contain the action name
			without any extension. So for example if you have an <code class="filename">home.php</code>
			file in the <code class="filename">actions</code> directory or/and an 
			<code class="filename">home.php</code> file in the <code class="filename">views</code>
			directory, you must use “<span class="quote">home</span>” as parameter to call this action.
		</p>
		<p>
			For an action to be callable, an action file or a view file must at least exists.
		</p>
		<p>
			If the action parameter is not found in the query string, Atomik will use the default
			action defines in its configuration (the “<span class="quote">atomik/default_action</span>” key).
			The default is “<span class="quote">index</span>”.
		</p>
		<p>
			For cleaner and prettier url you can use url rewriting. Simply copy the code below into
			a <code class="filename">.htaccess</code> file in the same directory as Atomik's core file.
			</p><pre class="programlisting">
	RewriteEngine on
	RewriteRule ^app/plugins/(.+)/assets - [L]
	RewriteRule ^app/ - [L,F]
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteRule ^(.*)$ index.php?action=$1 [L,QSA]
			</pre><p>
			This code will also prevent access to the <code class="filename">app</code> folder from the web but
			allow access to the <code class="filename">assets</code> directories of plugins.
		</p>
	</div>
	<div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="url-router"></a>Routing urls</h2></div></div></div>
		
	</div>
</div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="ch04.html">Prev</a> </td>
          <td width="20%" align="center"> </td>
          <td width="40%" align="right"> <a accesskey="n" href="ch06.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Chapter 4. Accessors and configuration </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> Chapter 6. Actions and views</td>
        </tr>
      </table>
    </div>
  </body>
</html>
